<%- include('./partials/head.ejs') %>

    <main class="container mt-3 mb-3 ml-auto mr-auto" id="dashboard">
        <h1 class="text-secondary mb-1">Dashboard</h1>

        <section>
            <% if(users.length) { %>
                <div id="user-table" class="table">
                    <h2>Users:</h2>
                    <div class="table-row text-center contrast-primary">
                        <p>Username</p>
                        <p>Email</p>
                        <p>Actions</p>
                    </div>
                    <% users.forEach(user => { %>
                        <div class="table-row text-center">
                            <p><%= user.username %></p>
                            <p><%= user.email %></p>
                            <p data-userId="<%= user._id %>"><i class="fa-solid fa-trash delete delete-user admin-action"></i><i class="fa-solid fa-angles-up promote promote-user admin-action"></i></p>
                        </div>
                    <% }); %>
                </div>
            <% } %>
    
            <% if(admins.length && user.isSuperAdmin) { %>
                <div id="admin-table" class="table">
                    <h2>Admins:</h2>
                    <div class="table-row text-center contrast-primary">
                        <p>Username</p>
                        <p>Email</p>
                        <p>Actions</p>
                    </div>
                    <% admins.forEach(admin => { %>
                        <div class="table-row text-center">
                            <p><%= admin.username %></p>
                            <p><%= admin.email %></p>
                            <p data-userId="<%= admin.id %>" data-isAdmin="<%= admin.isAdmin %>"><i class="fa-solid fa-trash delete delete-user admin-action"></i></p>
                        </div>
                    <% }); %>
                </div>
            <% } %>
        </section>

        <section>
            <h1 class="text-secondary mt-4">Plan Events:</h1>

            <div class="table">
                <h2>Notifications:</h2>

                <button id="add-notification-btn" class="btn btn-primary">Add Notification</button>
        
                <form id="add-notification-form" class="mb-3 d-none">
                    <div class="form-field position-relative">
                        <label for="notification-msg" class="text-secondary">Message</label>
                        <input type="text" name="notificationMsg" id="notification-msg" placeholder="Message">
                    </div>

                    <div class="form-field">
                        <label for="notification-time" class="text-secondary">Due Time</label>
                        <input type="datetime-local" name="notificationTime" id="notification-time">
                    </div>
        
                    <button type="submit" class="form-btn contrast-primary">Add</button>
                </form>

                <div class="table-row text-center contrast-primary">
                    <p>Message</p>
                    <p>Due</p>
                    <p>Actions</p>
                </div>

                <div class="table-row text-center">
                    <p>message</p>
                    <p>04.04.22 (16:00)</p>
                    <p><i class="fa-solid fa-trash delete delete-user"></i></p>
                </div>

                <div class="table-row text-center">
                    <p>message</p>
                    <p>04.04.22 (16:00)</p>
                    <p><i class="fa-solid fa-trash delete delete-user"></i></p>
                </div>
            </div>

            <div class="table">
                <h2>Emails:</h2>

                <button id="add-email-btn" class="btn btn-primary">Add Email</button>

                <form id="add-email-form" class="mb-3 d-none">
                    <div class="form-field">
                        <label for="email-subject" class="text-secondary">Subject</label>
                        <input type="text" name="emailSubject" id="email-subject" placeholder="Subject">
                    </div>

                    <div class="form-field">
                        <label for="email-body" class="text-secondary">Message</label>
                        <textarea type="text" name="emailBody" id="email-body" placeholder="Message"></textarea>
                    </div>

                    <!-- <div class="form-field">
                        <label for="email-date" class="text-secondary">Due Date</label>
                        <input type="date" name="emailDate" id="email-date">
                    </div>

                    <div class="form-field">
                        <label for="email-time" class="text-secondary">Due Time</label>
                        <input type="time" name="emailTime" id="email-time">
                    </div> -->

                    <div class="form-field">
                        <label for="email-time" class="text-secondary">Due Time</label>
                        <input type="datetime-local" name="emailTime" id="email-time">
                    </div>

                    <button type="submit" class="form-btn contrast-primary">Add</button>
                </form>

                <div class="table-row text-center contrast-primary">
                    <p>Subject</p>
                    <p>Due</p>
                    <p>Actions</p>
                </div>

                <div class="table-row text-center">
                    <p>subject</p>
                    <p>04.04.22 (16:00)</p>
                    <p><i class="fa-solid fa-trash delete delete-user"></i></p>
                </div>

                <div class="table-row text-center">
                    <p>subject</p>
                    <p>04.04.22 (16:00)</p>
                    <p><i class="fa-solid fa-trash delete delete-user"></i></p>
                </div>
            </div>
        </section>
    </main>

<%- include('./partials/footer.ejs') %>